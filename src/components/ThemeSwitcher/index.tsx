import React from 'react';
import { makeStyles } from '@material-ui/core/styles';
import { ITheme } from '../../theme';
import { Mode } from '../../theme/config';
import { useDispatch, useSelector } from 'react-redux';
import { getMainState } from '../Theme/state';
import { switchTheme } from '../Theme/state/slice';

const useStyles = makeStyles((theme: ITheme) => ({
  root: {
    cursor: 'pointer',
    minWidth: '50px',
    width: '50px',
    height: '30px',
    display: 'flex',
    flexDirection: 'row',
    flexWrap: 'nowrap',
    alignItems: 'flex-center',
    justifyContent: 'center',
    margin: '0 50px',
    border: `2px solid ${theme.palette.blue[500]}`,
    borderRadius: '20px',
    overflow: 'hidden',
  },
  dark: {
    padding: '3px 0 0 3px',
    background: theme.palette.blue[500],
  },
  light: {
    padding: '3px 3px 0 0',
  },
}));

export const ThemeSwitcher = () => {
  const dispatch = useDispatch();
  const classes = useStyles();

  const { mode } = useSelector(getMainState);

  const switchMode = (newMode: Mode) => {
    if (mode !== newMode) {
      dispatch(switchTheme(newMode));
    }
  };

  return (
    <div className={classes.root}>
      <div
        className={classes.dark}
        onClick={() => {
          switchMode(Mode.dark);
        }}>
        <svg
          width="20"
          height="20"
          viewBox="0 0 18 18"
          fill="none"
          xmlns="http://www.w3.org/2000/svg">
          <path
            fillRule="evenodd"
            clipRule="evenodd"
            d="M1.089 7.75679C1.089 9.51295 1.78663 11.1972 3.02843 12.439C4.27022 13.6808 5.95446 14.3784 7.71062 14.3784C9.11508 14.385 10.4834 13.9333 11.6079 13.0919C10.3 12.9155 9.07562 12.3487 8.09481 11.4656C7.11399 10.5825 6.42232 9.42413 6.11011 8.14179C5.7979 6.85945 5.87968 5.51278 6.34477 4.27764C6.80986 3.04251 7.63664 1.97632 8.71711 1.2184C8.38434 1.16406 8.04779 1.13624 7.71062 1.13517C5.95446 1.13517 4.27022 1.83279 3.02843 3.07459C1.78663 4.31638 1.089 6.00062 1.089 7.75679ZM12.8112 12.1081C12.9148 12.0992 13.0188 12.1219 13.1093 12.1732C13.1998 12.2246 13.2727 12.3021 13.3182 12.3957C13.3587 12.483 13.3731 12.5802 13.3597 12.6755C13.3463 12.7708 13.3056 12.8603 13.2425 12.933C12.5391 13.7031 11.682 14.3172 10.7265 14.7356C9.77107 15.154 8.73852 15.3675 7.69549 15.3622C5.67239 15.3622 3.73215 14.5585 2.3016 13.128C0.871055 11.6974 0.0673828 9.75719 0.0673828 7.73409C0.0673828 5.71099 0.871055 3.77076 2.3016 2.34021C3.73215 0.909659 5.67239 0.105987 7.69549 0.105987C8.55472 0.103525 9.4077 0.252081 10.2155 0.544896C10.3127 0.582148 10.3964 0.648033 10.4554 0.733831C10.5144 0.819629 10.546 0.921311 10.546 1.02544C10.546 1.12958 10.5144 1.23126 10.4554 1.31706C10.3964 1.40286 10.3127 1.46872 10.2155 1.50597C9.07444 2.02458 8.14265 2.91435 7.57197 4.03028C7.0013 5.1462 6.82538 6.42252 7.07288 7.65122C7.32038 8.87992 7.9767 9.98859 8.9349 10.7966C9.8931 11.6045 11.0967 12.0642 12.3495 12.1006L12.8112 12.1081Z"
            fill="orange"
          />
        </svg>
      </div>
      <div
        className={classes.light}
        onClick={() => {
          switchMode(Mode.light);
        }}>
        <svg
          width="20"
          height="20"
          viewBox="0 0 18 18"
          fill="none"
          xmlns="http://www.w3.org/2000/svg">
          <path
            fillRule="evenodd"
            clipRule="evenodd"
            d="M14.1395 4.57204C14.0451 4.66637 13.9172 4.71936 13.7838 4.71936C13.6504 4.71936 13.5224 4.66637 13.4281 4.57204C13.3338 4.47771 13.2808 4.34977 13.2808 4.21636C13.2808 4.08296 13.3338 3.95502 13.4281 3.86069L14.6389 2.64987C14.7332 2.55554 14.8612 2.50255 14.9946 2.50255C15.128 2.50255 15.2559 2.55554 15.3503 2.64987C15.4446 2.7442 15.4976 2.87214 15.4976 3.00555C15.4976 3.13895 15.4446 3.26689 15.3503 3.36123L14.1395 4.57204ZM4.36215 12.8964L3.15134 14.1072C3.0807 14.1782 3.03233 14.2683 3.01216 14.3665C2.992 14.4646 3.00092 14.5665 3.03783 14.6596C3.07448 14.7519 3.13819 14.8309 3.22058 14.8862C3.30297 14.9416 3.40019 14.9708 3.49945 14.9699C3.56703 14.9701 3.63398 14.9569 3.69636 14.9309C3.75873 14.9049 3.81529 14.8667 3.86269 14.8185L5.07351 13.6077C5.12064 13.5613 5.15806 13.5059 5.18361 13.4448C5.20916 13.3838 5.22232 13.3182 5.22232 13.252C5.22232 13.1859 5.20916 13.1203 5.18361 13.0593C5.15806 12.9982 5.12064 12.9428 5.07351 12.8964C5.02557 12.8502 4.96874 12.8142 4.90649 12.7906C4.84424 12.7671 4.77785 12.7564 4.71134 12.7592C4.64484 12.762 4.5796 12.7783 4.51958 12.8071C4.45955 12.8359 4.406 12.8766 4.36215 12.9266V12.8964ZM15.6454 8.21961H17.3632C17.4977 8.21961 17.6267 8.27302 17.7218 8.36811C17.8168 8.4632 17.8703 8.59216 17.8703 8.72663C17.8703 8.8611 17.8168 8.99006 17.7218 9.08514C17.6267 9.18023 17.4977 9.23367 17.3632 9.23367H15.6454C15.5109 9.23367 15.382 9.18023 15.2869 9.08514C15.1918 8.99006 15.1384 8.8611 15.1384 8.72663C15.1384 8.59216 15.1918 8.4632 15.2869 8.36811C15.382 8.27302 15.5109 8.21961 15.6454 8.21961ZM3.3481 8.72663C3.3481 8.59216 3.29468 8.4632 3.19959 8.36811C3.10451 8.27302 2.97554 8.21961 2.84107 8.21961H1.12324C0.988765 8.21961 0.859794 8.27302 0.764708 8.36811C0.669622 8.4632 0.616211 8.59216 0.616211 8.72663C0.616211 8.8611 0.669622 8.99006 0.764708 9.08514C0.859794 9.18023 0.988765 9.23367 1.12324 9.23367H2.84107C2.97045 9.2339 3.09504 9.18466 3.18931 9.09602C3.28357 9.00739 3.34038 8.88606 3.3481 8.7569V8.72663ZM13.64 12.7602C13.7256 12.738 13.8155 12.7389 13.9006 12.7628C13.9856 12.7867 14.0629 12.8328 14.1243 12.8964L15.3351 14.1072C15.3823 14.1536 15.4197 14.209 15.4452 14.2701C15.4708 14.3311 15.4839 14.3967 15.4839 14.4629C15.4839 14.529 15.4708 14.5946 15.4452 14.6556C15.4197 14.7167 15.3823 14.7721 15.3351 14.8185C15.2906 14.8663 15.2367 14.9043 15.1768 14.9303C15.1169 14.9564 15.0523 14.9698 14.987 14.9699C14.9194 14.9701 14.8525 14.9569 14.7901 14.9309C14.7277 14.9049 14.6712 14.8667 14.6238 14.8185L13.413 13.6077C13.3494 13.5463 13.3033 13.469 13.2794 13.384C13.2555 13.2989 13.2546 13.2089 13.2767 13.1234C13.3069 13.0432 13.3555 12.9714 13.4186 12.9135C13.4817 12.8556 13.5575 12.8135 13.64 12.7904V12.7602ZM4.36215 4.55691C4.40711 4.60098 4.46036 4.63568 4.5188 4.65906C4.57725 4.68244 4.63975 4.69403 4.70269 4.69312C4.80381 4.69577 4.90334 4.66764 4.98813 4.61248C5.07291 4.55732 5.13895 4.47773 5.1775 4.38421C5.21606 4.2907 5.22531 4.18768 5.20404 4.08879C5.18276 3.9899 5.13197 3.8998 5.05837 3.83041L3.86269 2.70285C3.76513 2.62724 3.64334 2.58981 3.52016 2.59759C3.39697 2.60536 3.28086 2.65781 3.19358 2.74509C3.1063 2.83237 3.05386 2.94849 3.04609 3.07167C3.03831 3.19485 3.07573 3.31664 3.15134 3.4142L4.36215 4.55691ZM8.73621 15.1515C8.73621 15.017 8.78963 14.8881 8.88472 14.793C8.9798 14.6979 9.10876 14.6445 9.24323 14.6445C9.37771 14.6445 9.50667 14.6979 9.60175 14.793C9.69684 14.8881 9.75026 15.017 9.75026 15.1515V16.8693C9.75026 17.0038 9.69684 17.1328 9.60175 17.2279C9.50667 17.3229 9.37771 17.3764 9.24323 17.3764C9.10876 17.3764 8.9798 17.3229 8.88472 17.2279C8.78963 17.1328 8.73621 17.0038 8.73621 16.8693V15.1515ZM5.45945 10.3082C5.80595 11.1162 6.40285 11.7914 7.16215 12.2343C7.92146 12.6773 8.803 12.8646 9.67682 12.7687C10.5506 12.6727 11.3705 12.2985 12.0156 11.7013C12.6606 11.104 13.0967 10.3154 13.2596 9.45151C13.4225 8.58766 13.3035 7.69433 12.9202 6.90321C12.537 6.11209 11.9096 5.46506 11.1308 5.05746C10.3519 4.64987 9.46269 4.50329 8.59421 4.63934C7.72573 4.77539 6.92393 5.18686 6.30701 5.81311C5.73441 6.39294 5.34787 7.13048 5.19688 7.93128C5.04589 8.73208 5.13731 9.55971 5.45945 10.3082ZM4.52864 6.69095C4.95882 5.68394 5.70121 4.84184 6.64634 4.28881C7.59147 3.73578 8.68931 3.5011 9.77794 3.6194C10.8666 3.7377 11.8884 4.20271 12.6927 4.94585C13.4969 5.68898 14.0411 6.67092 14.2449 7.74683C14.4488 8.82273 14.3014 9.93565 13.8247 10.9215C13.348 11.9073 12.5671 12.7138 11.5971 13.2221C10.6272 13.7304 9.5196 13.9135 8.43768 13.7445C7.35576 13.5755 6.35679 13.0633 5.5881 12.2834C4.87735 11.5609 4.39832 10.6428 4.21228 9.64659C4.02625 8.65035 4.14166 7.62123 4.54377 6.69095H4.52864ZM9.2281 2.86176C9.36257 2.86176 9.49154 2.80835 9.58662 2.71327C9.68171 2.61818 9.73512 2.48922 9.73512 2.35475V0.636897C9.73512 0.502425 9.68171 0.373466 9.58662 0.27838C9.49154 0.183294 9.36257 0.129883 9.2281 0.129883C9.09362 0.129883 8.96466 0.183294 8.86958 0.27838C8.77449 0.373466 8.72107 0.502425 8.72107 0.636897V2.35475C8.72104 2.42263 8.73464 2.48982 8.76106 2.55235C8.78748 2.61487 8.82619 2.67143 8.87489 2.71872C8.92359 2.766 8.98128 2.80304 9.04455 2.82761C9.10783 2.85218 9.17539 2.86379 9.24323 2.86176H9.2281Z"
            fill="orange"
          />
        </svg>
      </div>
    </div>
  );
};
